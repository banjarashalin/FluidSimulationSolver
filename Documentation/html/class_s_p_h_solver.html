<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Smooth Particle Hydrodynamics Solver for Lagrangian Fluid Simulation: SPHSolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>SPHSolver Class Reference</h1><!-- doxytag: class="SPHSolver" -->
<p>creates fluid particles and perform SPH fluid simulation at every iteration  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for SPHSolver:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver__coll__graph.png" border="0" usemap="#_s_p_h_solver_coll__map" alt="Collaboration graph"/></div>
<map name="_s_p_h_solver_coll__map" id="_s_p_h_solver_coll__map">
<area shape="rect" href="class_spatial_hashing.html" title="implements spatial hashing for the search of fluid particle neighbours" alt="" coords="49,5,265,373"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_s_p_h_solver-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#abe3a0bdf9c42b4213944bc0332020e65">SPHSolver</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ctor  <a href="#abe3a0bdf9c42b4213944bc0332020e65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a81a0ee1c05b649912faa1e9839f71883">~SPHSolver</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">dtor  <a href="#a81a0ee1c05b649912faa1e9839f71883"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a38ef1e0f18763b28118e3be3a8ba7d08">updateFluid</a> (<a class="el" href="class_environment_and_rigid_body.html">EnvironmentAndRigidBody</a> *io_environment, <a class="el" href="class_integrate.html">Integrate</a> *_integrate)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">update the fluid state at each timestep interval  <a href="#a38ef1e0f18763b28118e3be3a8ba7d08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector<br class="typebreak"/>
&lt; ngl::Vector &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#ab8ad27fc25e030d731e249ccfd2efd20">getFluidParticlePositionList</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the huge position list of all the fluid particles  <a href="#ab8ad27fc25e030d731e249ccfd2efd20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#aa73e68cd39ecbc3e0c868315b1699fcb">getFluidNameList</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the list storing the names of different fluid created  <a href="#aa73e68cd39ecbc3e0c868315b1699fcb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#adcadefbe7d620b8782065a8899bc8040">getVisualizationType</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the shader name to be used for displaying the simulation data  <a href="#adcadefbe7d620b8782065a8899bc8040"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_fluid_particle.html">FluidParticle</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#ad389df7449294b5a8de1fc163acbf29b">getFluidParticleList</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the list of fluid particles being simulated  <a href="#ad389df7449294b5a8de1fc163acbf29b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a4a224b16ea8c301048fb88cdbd0ac505">getDrawFluidParticles</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns the flag for drawing fluids  <a href="#a4a224b16ea8c301048fb88cdbd0ac505"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Vector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#af6b1adebbc96d3cb22f6990a05694f70">calculateInterfaceTensionGradientComponent</a> (ngl::Real _massPerDensity, ngl::Real _interfaceColourCoefficient, ngl::Vector _seperationVector)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate Interface Tension Gradient Component  <a href="#af6b1adebbc96d3cb22f6990a05694f70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#ac1f193569656db4fe11aa5f716c5169b">calculateInterfaceTensionLaplacianComponent</a> (ngl::Real _massPerDensity, ngl::Real _interfaceColourCoefficient, ngl::Real _seperationLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate Interface Tension Laplacian Component  <a href="#ac1f193569656db4fe11aa5f716c5169b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Vector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#ad137f4330190d8627fdb93ba373bb406">calculatePressureForceComponent</a> (ngl::Real _fluidParticleScalerPressure, ngl::Real _fluidParticleDensity, ngl::Real _neighbourFluidParticleScalerPressure, ngl::Real _neighbourFluidDensity, ngl::Real _neighbourFluidParticleMass, ngl::Vector _seperationLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate Pressure Force Component  <a href="#ad137f4330190d8627fdb93ba373bb406"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Vector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a5913e7c1cd5a66c51eb03762025c0782">calculateViscosityForceComponent</a> (ngl::Real _massPerDensity, ngl::Vector _fluidParticleCurrentVelocity, ngl::Vector _neighbourFluidParticleCurrentVelocity, ngl::Real _seperationLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate Viscosity Force Component  <a href="#a5913e7c1cd5a66c51eb03762025c0782"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Vector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a5ff4d84f41872763f04dfac24bda7e5d">calculateSurfaceTennsionGradientComponent</a> (ngl::Real _massPerDensity, ngl::Real _surfaceColourCoefficient, ngl::Vector _seperationVector)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate Surface Tension Gradient Component  <a href="#a5ff4d84f41872763f04dfac24bda7e5d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#abcc8f4b80a896833cdfb9f1ca71b28a2">calculateSurfaceTensionLaplacianComponent</a> (ngl::Real _massPerDensity, ngl::Real _surfaceColourCoefficient, ngl::Real _seperationLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate Surface Tension Laplacian Component  <a href="#abcc8f4b80a896833cdfb9f1ca71b28a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a293590ab5fbacd0a13bbd36dc3971e8d">KernelPoly</a> (const ngl::Real _seperationLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate the poly 6 kernel  <a href="#a293590ab5fbacd0a13bbd36dc3971e8d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Vector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a2431a032b4972d7e684642e4d8c9e058">KernelPolyGradient</a> (const ngl::Vector _seperationVector)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate the poly 6 gradient kernel  <a href="#a2431a032b4972d7e684642e4d8c9e058"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#ae0189c4c0301b0bb25d792b3b7ab08f5">KernelPolyLaplacian</a> (const ngl::Real _seperationLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate the poly 6 laplacian kernel  <a href="#ae0189c4c0301b0bb25d792b3b7ab08f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Vector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a5086e88784204568d4cf4e227309025f">KernelPressureGradient</a> (const ngl::Vector _seperationVector)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate the pressure (spiky) gradient kernel  <a href="#a5086e88784204568d4cf4e227309025f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a3e4f7c09c45d3f49fa38f813d55e724b">KernelViscosityLaplacian</a> (const ngl::Real _seperationLength)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate the viscosity laplacian kernel  <a href="#a3e4f7c09c45d3f49fa38f813d55e724b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Vector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a22ef88cb68a8f4befa6f281e10cf65a6">normalizeVector</a> (const ngl::Vector _vector)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">normalise a vector  <a href="#a22ef88cb68a8f4befa6f281e10cf65a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#acfa822e4291299eb6e6875347515572c">getFluidIdFromName</a> (const std::string _name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get a particle fluid id from its name  <a href="#acfa822e4291299eb6e6875347515572c"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_fluid_particle.html">FluidParticle</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a">m_fluidParticleList</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">list of particles making up the fluid simulation  <a href="#ae158d26d2bb95bdc260e289e6b8c3b0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a7eacf79d8d39f885736c50ac8dd81aa2">m_fluidNameList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc">m_smoothingLength</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">smoothing kernel length  <a href="#a09a49a1460b8d9d311c177bb61d614fc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_spatial_hashing.html">SpatialHashing</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd">m_spatialHashing</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the neighbouring structure for the fluid particles  <a href="#a1743796456c478d5e444d83384bef1dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#ad5a368aa4d10c71bb1aafe84c9f9f838">m_weightPoly</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pre-calculated part of the poly 6 kernel  <a href="#ad5a368aa4d10c71bb1aafe84c9f9f838"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a90434405f6296766d54626fe0582d664">m_weightPolyGradient</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pre-calculated part of the poly 6 gradient kernel  <a href="#a90434405f6296766d54626fe0582d664"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a76b956a2ddc98d9055438a0b57edba15">m_weightPolyLaplacian</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pre-calculated part of the poly 6 laplacian kernel  <a href="#a76b956a2ddc98d9055438a0b57edba15"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a69a9cc39ecf773ca645afd281794cf9a">m_weightPressureGradient</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pre-calculated part of the pressure gradient kernel  <a href="#a69a9cc39ecf773ca645afd281794cf9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ngl::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a7c059675a5ca3fec7f4bf7e59d19f5ab">m_weightViscosityLaplacian</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pre-calculated part of the viscosity laplacian kernel  <a href="#a7c059675a5ca3fec7f4bf7e59d19f5ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#ad168b241193a5a34b33553cbd8a26c6f">m_iteration</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">iteration counter  <a href="#ad168b241193a5a34b33553cbd8a26c6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a60c10a0a436f307626d3422fb05809ce">m_visualizationType</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">shading type of fluid particles  <a href="#a60c10a0a436f307626d3422fb05809ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_p_h_solver.html#a67a0ab46b9a3105400546a758ac6f2d1">m_drawFluidParticles</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">flag to control to display fluid particles in OpenGL Window  <a href="#a67a0ab46b9a3105400546a758ac6f2d1"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>creates fluid particles and perform SPH fluid simulation at every iteration </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00023">23</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abe3a0bdf9c42b4213944bc0332020e65"></a><!-- doxytag: member="SPHSolver::SPHSolver" ref="abe3a0bdf9c42b4213944bc0332020e65" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHSolver::SPHSolver </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ctor </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00011">11</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_simulation_parameters_8cpp_source.html#l00108">SimulationParameters::initialiseSPHFluidSolver()</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00091">m_drawFluidParticles</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00061">m_fluidNameList</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00059">m_fluidParticleList</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00085">m_iteration</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00064">m_smoothingLength</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00067">m_spatialHashing</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00088">m_visualizationType</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00070">m_weightPoly</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00073">m_weightPolyGradient</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00076">m_weightPolyLaplacian</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00079">m_weightPressureGradient</a>, and <a class="el" href="_s_p_h_solver_8h_source.html#l00082">m_weightViscosityLaplacian</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00012"></a>00012 {
<a name="l00013"></a>00013     <span class="comment">//create particles and initialise parameters</span>
<a name="l00014"></a>00014     <a class="code" href="class_simulation_parameters.html#aa9389962f767734ad8f0ffc63cb0ed46" title="initialise solver">SimulationParameters::initialiseSPHFluidSolver</a>
<a name="l00015"></a>00015             (
<a name="l00016"></a>00016                 <a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>,
<a name="l00017"></a>00017                 <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>,
<a name="l00018"></a>00018                 <a class="code" href="class_s_p_h_solver.html#a60c10a0a436f307626d3422fb05809ce" title="shading type of fluid particles">m_visualizationType</a>,
<a name="l00019"></a>00019                 <a class="code" href="class_s_p_h_solver.html#a67a0ab46b9a3105400546a758ac6f2d1" title="flag to control to display fluid particles in OpenGL Window">m_drawFluidParticles</a>,
<a name="l00020"></a>00020                 <a class="code" href="class_s_p_h_solver.html#a7eacf79d8d39f885736c50ac8dd81aa2">m_fluidNameList</a>
<a name="l00021"></a>00021             );
<a name="l00022"></a>00022 
<a name="l00023"></a>00023     <span class="comment">//precompute kernel weight multipliers</span>
<a name="l00024"></a>00024     <a class="code" href="class_s_p_h_solver.html#ad5a368aa4d10c71bb1aafe84c9f9f838" title="pre-calculated part of the poly 6 kernel">m_weightPoly</a> = (315.0 / (64.0 * ngl::PI * pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>, 9)));
<a name="l00025"></a>00025     <a class="code" href="class_s_p_h_solver.html#a90434405f6296766d54626fe0582d664" title="pre-calculated part of the poly 6 gradient kernel">m_weightPolyGradient</a> = (-945.0 / (32.0 * ngl::PI * pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>, 9)));
<a name="l00026"></a>00026     <a class="code" href="class_s_p_h_solver.html#a76b956a2ddc98d9055438a0b57edba15" title="pre-calculated part of the poly 6 laplacian kernel">m_weightPolyLaplacian</a> = (-945.0 / (32.0 * ngl::PI * pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>, 9)));
<a name="l00027"></a>00027     <a class="code" href="class_s_p_h_solver.html#a69a9cc39ecf773ca645afd281794cf9a" title="pre-calculated part of the pressure gradient kernel">m_weightPressureGradient</a> = (-45.0 / (ngl::PI * pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>, 6)));
<a name="l00028"></a>00028     <a class="code" href="class_s_p_h_solver.html#a7c059675a5ca3fec7f4bf7e59d19f5ab" title="pre-calculated part of the viscosity laplacian kernel">m_weightViscosityLaplacian</a> = (45.0 / (ngl::PI * pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>, 6)));
<a name="l00029"></a>00029 
<a name="l00030"></a>00030     <span class="comment">//create neighbouring structure</span>
<a name="l00031"></a>00031     <a class="code" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd" title="the neighbouring structure for the fluid particles">m_spatialHashing</a> = <span class="keyword">new</span> <a class="code" href="class_spatial_hashing.html" title="implements spatial hashing for the search of fluid particle neighbours">SpatialHashing</a>(<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>.size(), <a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>);
<a name="l00032"></a>00032 
<a name="l00033"></a>00033     <a class="code" href="class_s_p_h_solver.html#ad168b241193a5a34b33553cbd8a26c6f" title="iteration counter">m_iteration</a> = 0;
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment">//    for (int i = 0; i &lt; m_fluidNameList.size(); ++i)</span>
<a name="l00036"></a>00036 <span class="comment">//    {</span>
<a name="l00037"></a>00037 <span class="comment">//    std::cout &lt;&lt; &quot;names of particle are :: &quot; &lt;&lt; m_fluidNameList[i] &lt;&lt; std::endl;</span>
<a name="l00038"></a>00038 <span class="comment">//    }</span>
<a name="l00039"></a>00039 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_abe3a0bdf9c42b4213944bc0332020e65_cgraph.png" border="0" usemap="#class_s_p_h_solver_abe3a0bdf9c42b4213944bc0332020e65_cgraph_map" alt=""></div>
<map name="class_s_p_h_solver_abe3a0bdf9c42b4213944bc0332020e65_cgraph_map" id="class_s_p_h_solver_abe3a0bdf9c42b4213944bc0332020e65_cgraph">
<area shape="rect" href="class_simulation_parameters.html#aa9389962f767734ad8f0ffc63cb0ed46" title="initialise solver" alt="" coords="209,5,503,32"/><area shape="rect" href="class_simulation_parameters.html#ab6ed6ff4568848297f4a50603093d3d5" title="utility function to split a string into a vector of floats" alt="" coords="552,5,859,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a81a0ee1c05b649912faa1e9839f71883"></a><!-- doxytag: member="SPHSolver::~SPHSolver" ref="a81a0ee1c05b649912faa1e9839f71883" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHSolver::~SPHSolver </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>dtor </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00041">41</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00067">m_spatialHashing</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00042"></a>00042 {
<a name="l00043"></a>00043     <span class="comment">//clean up</span>
<a name="l00044"></a>00044     std::cout &lt;&lt; <span class="stringliteral">&quot;Fluid SPHSolver Cleanup&quot;</span> &lt;&lt; std::endl;
<a name="l00045"></a>00045 
<a name="l00046"></a>00046     <span class="comment">//delete objects</span>
<a name="l00047"></a>00047     <span class="keyword">delete</span> <a class="code" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd" title="the neighbouring structure for the fluid particles">m_spatialHashing</a>;
<a name="l00048"></a>00048 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af6b1adebbc96d3cb22f6990a05694f70"></a><!-- doxytag: member="SPHSolver::calculateInterfaceTensionGradientComponent" ref="af6b1adebbc96d3cb22f6990a05694f70" args="(ngl::Real _massPerDensity, ngl::Real _interfaceColourCoefficient, ngl::Vector _seperationVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Vector SPHSolver::calculateInterfaceTensionGradientComponent </td>
          <td>(</td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_massPerDensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_interfaceColourCoefficient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Vector&nbsp;</td>
          <td class="paramname"> <em>_seperationVector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate Interface Tension Gradient Component </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_massPerDensity</em>&nbsp;</td><td>mass per density of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_interfaceColourCoefficient</em>&nbsp;</td><td>interface colour coefflicient of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationVector</em>&nbsp;</td><td>distance vector between the fluid particle and the neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00379">379</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8cpp_source.html#l00337">KernelPolyGradient()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00380"></a>00380 {
<a name="l00381"></a>00381 
<a name="l00382"></a>00382     ngl::Vector interfaceTensionGradientComponent;
<a name="l00383"></a>00383     ngl::Vector surfaceGradient =  <a class="code" href="class_s_p_h_solver.html#a2431a032b4972d7e684642e4d8c9e058" title="calculate the poly 6 gradient kernel">KernelPolyGradient</a>(_seperationVector);
<a name="l00384"></a>00384 
<a name="l00385"></a>00385     interfaceTensionGradientComponent = _massPerDensity * _interfaceColourCoefficient * surfaceGradient;
<a name="l00386"></a>00386 
<a name="l00387"></a>00387     <span class="keywordflow">return</span> interfaceTensionGradientComponent;
<a name="l00388"></a>00388 
<a name="l00389"></a>00389 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_af6b1adebbc96d3cb22f6990a05694f70_cgraph.png" border="0" usemap="#class_s_p_h_solver_af6b1adebbc96d3cb22f6990a05694f70_cgraph_map" alt=""></div>
<map name="class_s_p_h_solver_af6b1adebbc96d3cb22f6990a05694f70_cgraph_map" id="class_s_p_h_solver_af6b1adebbc96d3cb22f6990a05694f70_cgraph">
<area shape="rect" href="class_s_p_h_solver.html#a2431a032b4972d7e684642e4d8c9e058" title="calculate the poly 6 gradient kernel" alt="" coords="407,5,609,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac1f193569656db4fe11aa5f716c5169b"></a><!-- doxytag: member="SPHSolver::calculateInterfaceTensionLaplacianComponent" ref="ac1f193569656db4fe11aa5f716c5169b" args="(ngl::Real _massPerDensity, ngl::Real _interfaceColourCoefficient, ngl::Real _seperationLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real SPHSolver::calculateInterfaceTensionLaplacianComponent </td>
          <td>(</td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_massPerDensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_interfaceColourCoefficient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_seperationLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate Interface Tension Laplacian Component </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_massPerDensity</em>&nbsp;</td><td>mass per density of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_interfaceColourCoefficient</em>&nbsp;</td><td>interface colour coefflicient of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationLength</em>&nbsp;</td><td>amplitube of the distance vector between the fluid particle and the neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00391">391</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8cpp_source.html#l00347">KernelPolyLaplacian()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00393"></a>00393 {
<a name="l00394"></a>00394 
<a name="l00395"></a>00395     ngl::Real interfaceTensionLaplacianComponent;
<a name="l00396"></a>00396     ngl::Real surfaceLaplacian = <a class="code" href="class_s_p_h_solver.html#ae0189c4c0301b0bb25d792b3b7ab08f5" title="calculate the poly 6 laplacian kernel">KernelPolyLaplacian</a>(_seperationLength);
<a name="l00397"></a>00397 
<a name="l00398"></a>00398     interfaceTensionLaplacianComponent = _massPerDensity * _interfaceColourCoefficient * surfaceLaplacian;
<a name="l00399"></a>00399 
<a name="l00400"></a>00400     <span class="keywordflow">return</span> interfaceTensionLaplacianComponent;
<a name="l00401"></a>00401 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_ac1f193569656db4fe11aa5f716c5169b_cgraph.png" border="0" usemap="#class_s_p_h_solver_ac1f193569656db4fe11aa5f716c5169b_cgraph_map" alt=""></div>
<map name="class_s_p_h_solver_ac1f193569656db4fe11aa5f716c5169b_cgraph_map" id="class_s_p_h_solver_ac1f193569656db4fe11aa5f716c5169b_cgraph">
<area shape="rect" href="class_s_p_h_solver.html#ae0189c4c0301b0bb25d792b3b7ab08f5" title="calculate the poly 6 laplacian kernel" alt="" coords="412,5,620,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad137f4330190d8627fdb93ba373bb406"></a><!-- doxytag: member="SPHSolver::calculatePressureForceComponent" ref="ad137f4330190d8627fdb93ba373bb406" args="(ngl::Real _fluidParticleScalerPressure, ngl::Real _fluidParticleDensity, ngl::Real _neighbourFluidParticleScalerPressure, ngl::Real _neighbourFluidDensity, ngl::Real _neighbourFluidParticleMass, ngl::Vector _seperationLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Vector SPHSolver::calculatePressureForceComponent </td>
          <td>(</td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_fluidParticleScalerPressure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_fluidParticleDensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_neighbourFluidParticleScalerPressure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_neighbourFluidDensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_neighbourFluidParticleMass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Vector&nbsp;</td>
          <td class="paramname"> <em>_seperationLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate Pressure Force Component </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_fluidParticleScalerPressure</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_fluidParticleDensity</em>&nbsp;</td><td>density of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_neighbourFluidParticleScalerPressure</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_neighbourFluidDensity</em>&nbsp;</td><td>density of the neighbour fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_neighbourFluidParticleMass</em>&nbsp;</td><td>mass of the neighbour fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationLength</em>&nbsp;</td><td>distance vector between the fluid particle and the neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00260">260</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8cpp_source.html#l00354">KernelPressureGradient()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00268"></a>00268 {
<a name="l00269"></a>00269       ngl::Vector pressureForceComponent = 0;
<a name="l00270"></a>00270 
<a name="l00271"></a>00271       ngl::Real _fluidParticleDensitySquared = pow (_fluidParticleDensity,2);
<a name="l00272"></a>00272 
<a name="l00273"></a>00273       ngl::Real _neighbourFluidParticleDensitySquared = pow(_neighbourFluidParticleDensity,2);
<a name="l00274"></a>00274 
<a name="l00275"></a>00275       ngl::Vector pressureGradient = <a class="code" href="class_s_p_h_solver.html#a5086e88784204568d4cf4e227309025f" title="calculate the pressure (spiky) gradient kernel">KernelPressureGradient</a>(_seperationVector);
<a name="l00276"></a>00276 
<a name="l00277"></a>00277       pressureForceComponent = ((_fluidParticleScalerPressure / _fluidParticleDensitySquared) + (_neighbourFluidParticleScalerPressure/_neighbourFluidParticleDensitySquared))
<a name="l00278"></a>00278                             * _neighboutFluidParticleMass * pressureGradient;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280       <span class="keywordflow">return</span> pressureForceComponent;
<a name="l00281"></a>00281 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_ad137f4330190d8627fdb93ba373bb406_cgraph.png" border="0" usemap="#class_s_p_h_solver_ad137f4330190d8627fdb93ba373bb406_cgraph_map" alt=""></div>
<map name="class_s_p_h_solver_ad137f4330190d8627fdb93ba373bb406_cgraph_map" id="class_s_p_h_solver_ad137f4330190d8627fdb93ba373bb406_cgraph">
<area shape="rect" href="class_s_p_h_solver.html#a5086e88784204568d4cf4e227309025f" title="calculate the pressure (spiky) gradient kernel" alt="" coords="349,5,579,32"/><area shape="rect" href="class_s_p_h_solver.html#a22ef88cb68a8f4befa6f281e10cf65a6" title="normalise a vector" alt="" coords="628,5,812,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5ff4d84f41872763f04dfac24bda7e5d"></a><!-- doxytag: member="SPHSolver::calculateSurfaceTennsionGradientComponent" ref="a5ff4d84f41872763f04dfac24bda7e5d" args="(ngl::Real _massPerDensity, ngl::Real _surfaceColourCoefficient, ngl::Vector _seperationVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Vector SPHSolver::calculateSurfaceTennsionGradientComponent </td>
          <td>(</td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_massPerDensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_surfaceColourCoefficient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Vector&nbsp;</td>
          <td class="paramname"> <em>_seperationVector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate Surface Tension Gradient Component </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_massPerDensity</em>&nbsp;</td><td>mass per density of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_surfaceColourCoefficient</em>&nbsp;</td><td>surface colour coefficient of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationVector</em>&nbsp;</td><td>distance vector between the fluid particle and the neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00299">299</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8cpp_source.html#l00337">KernelPolyGradient()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00304"></a>00304 {
<a name="l00305"></a>00305     ngl::Vector surfaceTensionGradientComponent = 0;
<a name="l00306"></a>00306 
<a name="l00307"></a>00307     ngl::Vector surfaceGradient =  <a class="code" href="class_s_p_h_solver.html#a2431a032b4972d7e684642e4d8c9e058" title="calculate the poly 6 gradient kernel">KernelPolyGradient</a>(_seperationVector);
<a name="l00308"></a>00308 
<a name="l00309"></a>00309     surfaceTensionGradientComponent = _massPerDensity * _surfaceColourCoefficient * surfaceGradient;
<a name="l00310"></a>00310 
<a name="l00311"></a>00311     <span class="keywordflow">return</span> surfaceTensionGradientComponent;
<a name="l00312"></a>00312 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a5ff4d84f41872763f04dfac24bda7e5d_cgraph.png" border="0" usemap="#class_s_p_h_solver_a5ff4d84f41872763f04dfac24bda7e5d_cgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a5ff4d84f41872763f04dfac24bda7e5d_cgraph_map" id="class_s_p_h_solver_a5ff4d84f41872763f04dfac24bda7e5d_cgraph">
<area shape="rect" href="class_s_p_h_solver.html#a2431a032b4972d7e684642e4d8c9e058" title="calculate the poly 6 gradient kernel" alt="" coords="409,5,612,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abcc8f4b80a896833cdfb9f1ca71b28a2"></a><!-- doxytag: member="SPHSolver::calculateSurfaceTensionLaplacianComponent" ref="abcc8f4b80a896833cdfb9f1ca71b28a2" args="(ngl::Real _massPerDensity, ngl::Real _surfaceColourCoefficient, ngl::Real _seperationLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real SPHSolver::calculateSurfaceTensionLaplacianComponent </td>
          <td>(</td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_massPerDensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_surfaceColourCoefficient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_seperationLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate Surface Tension Laplacian Component </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_massPerDensity</em>&nbsp;</td><td>mass per density of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_surfaceColourCoefficient</em>&nbsp;</td><td>surface colour coefficient of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationLength</em>&nbsp;</td><td>amplitude of the distance vector between the fluid particle and neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00314">314</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8cpp_source.html#l00347">KernelPolyLaplacian()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00320"></a>00320 {
<a name="l00321"></a>00321     ngl::Real surfaceTensionLaplacianComponent = 0;
<a name="l00322"></a>00322 
<a name="l00323"></a>00323     ngl::Real surfaceLaplacian = <a class="code" href="class_s_p_h_solver.html#ae0189c4c0301b0bb25d792b3b7ab08f5" title="calculate the poly 6 laplacian kernel">KernelPolyLaplacian</a>(_seperationLength);
<a name="l00324"></a>00324 
<a name="l00325"></a>00325     surfaceTensionLaplacianComponent = _massPerDensity * _surfaceColourCoefficient * surfaceLaplacian;
<a name="l00326"></a>00326 
<a name="l00327"></a>00327     <span class="keywordflow">return</span> surfaceTensionLaplacianComponent;
<a name="l00328"></a>00328 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_abcc8f4b80a896833cdfb9f1ca71b28a2_cgraph.png" border="0" usemap="#class_s_p_h_solver_abcc8f4b80a896833cdfb9f1ca71b28a2_cgraph_map" alt=""></div>
<map name="class_s_p_h_solver_abcc8f4b80a896833cdfb9f1ca71b28a2_cgraph_map" id="class_s_p_h_solver_abcc8f4b80a896833cdfb9f1ca71b28a2_cgraph">
<area shape="rect" href="class_s_p_h_solver.html#ae0189c4c0301b0bb25d792b3b7ab08f5" title="calculate the poly 6 laplacian kernel" alt="" coords="407,5,615,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5913e7c1cd5a66c51eb03762025c0782"></a><!-- doxytag: member="SPHSolver::calculateViscosityForceComponent" ref="a5913e7c1cd5a66c51eb03762025c0782" args="(ngl::Real _massPerDensity, ngl::Vector _fluidParticleCurrentVelocity, ngl::Vector _neighbourFluidParticleCurrentVelocity, ngl::Real _seperationLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Vector SPHSolver::calculateViscosityForceComponent </td>
          <td>(</td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_massPerDensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Vector&nbsp;</td>
          <td class="paramname"> <em>_fluidParticleCurrentVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Vector&nbsp;</td>
          <td class="paramname"> <em>_neighbourFluidParticleCurrentVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_seperationLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate Viscosity Force Component </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_massPerDensity</em>&nbsp;</td><td>mass per density of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_fluidParticleCurrentVelocity</em>&nbsp;</td><td>current velocity of the fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_neighbourFluidParticleCurrentVelocity</em>&nbsp;</td><td>current velocity of the neighbour fluid particle </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationLength</em>&nbsp;</td><td>amplitube of the distance vector between fluid particle and the neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00283">283</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8cpp_source.html#l00364">KernelViscosityLaplacian()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00289"></a>00289 {
<a name="l00290"></a>00290     ngl::Vector viscosityForceComponent = 0;
<a name="l00291"></a>00291 
<a name="l00292"></a>00292     ngl::Real viscosityLaplacian = <a class="code" href="class_s_p_h_solver.html#a3e4f7c09c45d3f49fa38f813d55e724b" title="calculate the viscosity laplacian kernel">KernelViscosityLaplacian</a>(_seperationLength);
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     viscosityForceComponent = _massPerDensity * (_neighbourFluidParticleCurrentVelocity - _fluidParticleCurrentVelocity) * viscosityLaplacian;
<a name="l00295"></a>00295 
<a name="l00296"></a>00296     <span class="keywordflow">return</span> viscosityForceComponent;
<a name="l00297"></a>00297 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a5913e7c1cd5a66c51eb03762025c0782_cgraph.png" border="0" usemap="#class_s_p_h_solver_a5913e7c1cd5a66c51eb03762025c0782_cgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a5913e7c1cd5a66c51eb03762025c0782_cgraph_map" id="class_s_p_h_solver_a5913e7c1cd5a66c51eb03762025c0782_cgraph">
<area shape="rect" href="class_s_p_h_solver.html#a3e4f7c09c45d3f49fa38f813d55e724b" title="calculate the viscosity laplacian kernel" alt="" coords="349,5,587,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4a224b16ea8c301048fb88cdbd0ac505"></a><!-- doxytag: member="SPHSolver::getDrawFluidParticles" ref="a4a224b16ea8c301048fb88cdbd0ac505" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SPHSolver::getDrawFluidParticles </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns the flag for drawing fluids </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00054">54</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00091">m_drawFluidParticles</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00054"></a>00054 {<span class="keywordflow">return</span> <a class="code" href="class_s_p_h_solver.html#a67a0ab46b9a3105400546a758ac6f2d1" title="flag to control to display fluid particles in OpenGL Window">m_drawFluidParticles</a>;}
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a4a224b16ea8c301048fb88cdbd0ac505_icgraph.png" border="0" usemap="#class_s_p_h_solver_a4a224b16ea8c301048fb88cdbd0ac505_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a4a224b16ea8c301048fb88cdbd0ac505_icgraph_map" id="class_s_p_h_solver_a4a224b16ea8c301048fb88cdbd0ac505_icgraph">
<area shape="rect" href="class_render.html#abff096b6a70647c4e22272f51df53417" title="draws the simulation data on the OpenGL Window" alt="" coords="273,5,369,32"/><area shape="rect" href="class_g_l_window.html#a9bd2503dd5f812c10a9481f22ecd3403" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="419,5,555,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acfa822e4291299eb6e6875347515572c"></a><!-- doxytag: member="SPHSolver::getFluidIdFromName" ref="acfa822e4291299eb6e6875347515572c" args="(const std::string _name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPHSolver::getFluidIdFromName </td>
          <td>(</td>
          <td class="paramtype">const std::string&nbsp;</td>
          <td class="paramname"> <em>_name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>get a particle fluid id from its name </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_name</em>&nbsp;</td><td>the fluid name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa73e68cd39ecbc3e0c868315b1699fcb"></a><!-- doxytag: member="SPHSolver::getFluidNameList" ref="aa73e68cd39ecbc3e0c868315b1699fcb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; SPHSolver::getFluidNameList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return the list storing the names of different fluid created </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00045">45</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00061">m_fluidNameList</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00045"></a>00045 {<span class="keywordflow">return</span> <a class="code" href="class_s_p_h_solver.html#a7eacf79d8d39f885736c50ac8dd81aa2">m_fluidNameList</a>;}
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_aa73e68cd39ecbc3e0c868315b1699fcb_icgraph.png" border="0" usemap="#class_s_p_h_solver_aa73e68cd39ecbc3e0c868315b1699fcb_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_aa73e68cd39ecbc3e0c868315b1699fcb_icgraph_map" id="class_s_p_h_solver_aa73e68cd39ecbc3e0c868315b1699fcb_icgraph">
<area shape="rect" href="class_g_l_window.html#a8901509418ab117e8613d624df9b5666" title="the timer event triggered from the timers" alt="" coords="245,5,397,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad389df7449294b5a8de1fc163acbf29b"></a><!-- doxytag: member="SPHSolver::getFluidParticleList" ref="ad389df7449294b5a8de1fc163acbf29b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_fluid_particle.html">FluidParticle</a>&gt; SPHSolver::getFluidParticleList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return the list of fluid particles being simulated </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00051">51</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00059">m_fluidParticleList</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00051"></a>00051 {<span class="keywordflow">return</span> <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>;}
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_ad389df7449294b5a8de1fc163acbf29b_icgraph.png" border="0" usemap="#class_s_p_h_solver_ad389df7449294b5a8de1fc163acbf29b_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_ad389df7449294b5a8de1fc163acbf29b_icgraph_map" id="class_s_p_h_solver_ad389df7449294b5a8de1fc163acbf29b_icgraph">
<area shape="rect" href="class_render.html#abff096b6a70647c4e22272f51df53417" title="draws the simulation data on the OpenGL Window" alt="" coords="257,5,353,32"/><area shape="rect" href="class_g_l_window.html#a9bd2503dd5f812c10a9481f22ecd3403" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="403,31,539,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab8ad27fc25e030d731e249ccfd2efd20"></a><!-- doxytag: member="SPHSolver::getFluidParticlePositionList" ref="ab8ad27fc25e030d731e249ccfd2efd20" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; ngl::Vector &gt; &gt; SPHSolver::getFluidParticlePositionList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return the huge position list of all the fluid particles </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00403">403</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00061">m_fluidNameList</a>, and <a class="el" href="_s_p_h_solver_8h_source.html#l00059">m_fluidParticleList</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00404"></a>00404 {
<a name="l00405"></a>00405     std::vector&lt;std::vector&lt;ngl::Vector&gt; &gt; fluidParticlePositionsList;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i&lt; <a class="code" href="class_s_p_h_solver.html#a7eacf79d8d39f885736c50ac8dd81aa2">m_fluidNameList</a>.size(); ++i)
<a name="l00408"></a>00408     {
<a name="l00409"></a>00409         std::string name = <a class="code" href="class_s_p_h_solver.html#a7eacf79d8d39f885736c50ac8dd81aa2">m_fluidNameList</a>[i];
<a name="l00410"></a>00410         std::vector&lt;ngl::Vector&gt; positionList;
<a name="l00411"></a>00411         positionList.reserve(<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>.size());
<a name="l00412"></a>00412 
<a name="l00413"></a>00413         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k&lt;<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>.size(); ++k)
<a name="l00414"></a>00414         {
<a name="l00415"></a>00415             <span class="keywordflow">if</span> (<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[k].getName() == name)
<a name="l00416"></a>00416             {
<a name="l00417"></a>00417                 positionList.push_back(<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[k].getCurrentPosition());
<a name="l00418"></a>00418             }
<a name="l00419"></a>00419         }
<a name="l00420"></a>00420         fluidParticlePositionsList.push_back(positionList);
<a name="l00421"></a>00421     }
<a name="l00422"></a>00422     <span class="keywordflow">return</span> fluidParticlePositionsList;
<a name="l00423"></a>00423 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_ab8ad27fc25e030d731e249ccfd2efd20_icgraph.png" border="0" usemap="#class_s_p_h_solver_ab8ad27fc25e030d731e249ccfd2efd20_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_ab8ad27fc25e030d731e249ccfd2efd20_icgraph_map" id="class_s_p_h_solver_ab8ad27fc25e030d731e249ccfd2efd20_icgraph">
<area shape="rect" href="class_g_l_window.html#a8901509418ab117e8613d624df9b5666" title="the timer event triggered from the timers" alt="" coords="304,5,456,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adcadefbe7d620b8782065a8899bc8040"></a><!-- doxytag: member="SPHSolver::getVisualizationType" ref="adcadefbe7d620b8782065a8899bc8040" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string SPHSolver::getVisualizationType </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return the shader name to be used for displaying the simulation data </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00048">48</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00088">m_visualizationType</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00048"></a>00048 {<span class="keywordflow">return</span> <a class="code" href="class_s_p_h_solver.html#a60c10a0a436f307626d3422fb05809ce" title="shading type of fluid particles">m_visualizationType</a>;}
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_adcadefbe7d620b8782065a8899bc8040_icgraph.png" border="0" usemap="#class_s_p_h_solver_adcadefbe7d620b8782065a8899bc8040_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_adcadefbe7d620b8782065a8899bc8040_icgraph_map" id="class_s_p_h_solver_adcadefbe7d620b8782065a8899bc8040_icgraph">
<area shape="rect" href="class_render.html#abff096b6a70647c4e22272f51df53417" title="draws the simulation data on the OpenGL Window" alt="" coords="268,5,364,32"/><area shape="rect" href="class_g_l_window.html#a9bd2503dd5f812c10a9481f22ecd3403" title="this is the main gl drawing routine which is called whenever the window needs to" alt="" coords="413,5,549,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a293590ab5fbacd0a13bbd36dc3971e8d"></a><!-- doxytag: member="SPHSolver::KernelPoly" ref="a293590ab5fbacd0a13bbd36dc3971e8d" args="(const ngl::Real _seperationLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real SPHSolver::KernelPoly </td>
          <td>(</td>
          <td class="paramtype">const ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_seperationLength</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate the poly 6 kernel </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationLength</em>&nbsp;</td><td>amplitude of the distance vector between the fluid particle and neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00330">330</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00064">m_smoothingLength</a>, and <a class="el" href="_s_p_h_solver_8h_source.html#l00070">m_weightPoly</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00331"></a>00331 {
<a name="l00332"></a>00332     ngl::Real weight = <a class="code" href="class_s_p_h_solver.html#ad5a368aa4d10c71bb1aafe84c9f9f838" title="pre-calculated part of the poly 6 kernel">m_weightPoly</a> * (pow(pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>, 2) - pow(_seperationLength, 2), 3));
<a name="l00333"></a>00333 
<a name="l00334"></a>00334     <span class="keywordflow">return</span> weight;
<a name="l00335"></a>00335 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2431a032b4972d7e684642e4d8c9e058"></a><!-- doxytag: member="SPHSolver::KernelPolyGradient" ref="a2431a032b4972d7e684642e4d8c9e058" args="(const ngl::Vector _seperationVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Vector SPHSolver::KernelPolyGradient </td>
          <td>(</td>
          <td class="paramtype">const ngl::Vector&nbsp;</td>
          <td class="paramname"> <em>_seperationVector</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate the poly 6 gradient kernel </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationVector</em>&nbsp;</td><td>distance vector between the fluid particle and the neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00337">337</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00064">m_smoothingLength</a>, and <a class="el" href="_s_p_h_solver_8h_source.html#l00073">m_weightPolyGradient</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00338"></a>00338 {
<a name="l00339"></a>00339     ngl::Vector weight = 0;
<a name="l00340"></a>00340     ngl::Real seperationLength = _seperationVector.length();
<a name="l00341"></a>00341 
<a name="l00342"></a>00342     weight = <a class="code" href="class_s_p_h_solver.html#a90434405f6296766d54626fe0582d664" title="pre-calculated part of the poly 6 gradient kernel">m_weightPolyGradient</a> * _seperationVector * pow(pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>, 2) - pow(seperationLength, 2), 2);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344     <span class="keywordflow">return</span> weight;
<a name="l00345"></a>00345 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a2431a032b4972d7e684642e4d8c9e058_icgraph.png" border="0" usemap="#class_s_p_h_solver_a2431a032b4972d7e684642e4d8c9e058_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a2431a032b4972d7e684642e4d8c9e058_icgraph_map" id="class_s_p_h_solver_a2431a032b4972d7e684642e4d8c9e058_icgraph">
<area shape="rect" href="class_s_p_h_solver.html#af6b1adebbc96d3cb22f6990a05694f70" title="calculate Interface Tension Gradient Component" alt="" coords="260,5,612,32"/><area shape="rect" href="class_s_p_h_solver.html#a5ff4d84f41872763f04dfac24bda7e5d" title="calculate Surface Tension Gradient Component" alt="" coords="260,56,612,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae0189c4c0301b0bb25d792b3b7ab08f5"></a><!-- doxytag: member="SPHSolver::KernelPolyLaplacian" ref="ae0189c4c0301b0bb25d792b3b7ab08f5" args="(const ngl::Real _seperationLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real SPHSolver::KernelPolyLaplacian </td>
          <td>(</td>
          <td class="paramtype">const ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_seperationLength</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate the poly 6 laplacian kernel </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationLength</em>&nbsp;</td><td>amplitude of the distance vector between the fluid particle and neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00347">347</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00064">m_smoothingLength</a>, and <a class="el" href="_s_p_h_solver_8h_source.html#l00076">m_weightPolyLaplacian</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00348"></a>00348 {
<a name="l00349"></a>00349     ngl::Real weight = <a class="code" href="class_s_p_h_solver.html#a76b956a2ddc98d9055438a0b57edba15" title="pre-calculated part of the poly 6 laplacian kernel">m_weightPolyLaplacian</a> * (pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>, 2) - pow(_seperationLength, 2)) * ((3.0 * pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>, 2)) - (7.0 * pow(_seperationLength, 2)));
<a name="l00350"></a>00350 
<a name="l00351"></a>00351     <span class="keywordflow">return</span> weight;
<a name="l00352"></a>00352 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_ae0189c4c0301b0bb25d792b3b7ab08f5_icgraph.png" border="0" usemap="#class_s_p_h_solver_ae0189c4c0301b0bb25d792b3b7ab08f5_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_ae0189c4c0301b0bb25d792b3b7ab08f5_icgraph_map" id="class_s_p_h_solver_ae0189c4c0301b0bb25d792b3b7ab08f5_icgraph">
<area shape="rect" href="class_s_p_h_solver.html#ac1f193569656db4fe11aa5f716c5169b" title="calculate Interface Tension Laplacian Component" alt="" coords="264,5,621,32"/><area shape="rect" href="class_s_p_h_solver.html#abcc8f4b80a896833cdfb9f1ca71b28a2" title="calculate Surface Tension Laplacian Component" alt="" coords="267,56,619,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5086e88784204568d4cf4e227309025f"></a><!-- doxytag: member="SPHSolver::KernelPressureGradient" ref="a5086e88784204568d4cf4e227309025f" args="(const ngl::Vector _seperationVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Vector SPHSolver::KernelPressureGradient </td>
          <td>(</td>
          <td class="paramtype">const ngl::Vector&nbsp;</td>
          <td class="paramname"> <em>_seperationVector</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate the pressure (spiky) gradient kernel </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationVector</em>&nbsp;</td><td>distance vector between the fluid particle and the neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00354">354</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00064">m_smoothingLength</a>, <a class="el" href="_s_p_h_solver_8h_source.html#l00079">m_weightPressureGradient</a>, and <a class="el" href="_s_p_h_solver_8cpp_source.html#l00371">normalizeVector()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00355"></a>00355 {
<a name="l00356"></a>00356     ngl::Vector weight = 0;
<a name="l00357"></a>00357     ngl::Real seperationLength = _seperationVector.length();
<a name="l00358"></a>00358 
<a name="l00359"></a>00359     weight = <a class="code" href="class_s_p_h_solver.html#a69a9cc39ecf773ca645afd281794cf9a" title="pre-calculated part of the pressure gradient kernel">m_weightPressureGradient</a> * pow(<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a> - seperationLength, 2) * <a class="code" href="class_s_p_h_solver.html#a22ef88cb68a8f4befa6f281e10cf65a6" title="normalise a vector">normalizeVector</a>(_seperationVector);
<a name="l00360"></a>00360 
<a name="l00361"></a>00361     <span class="keywordflow">return</span> weight;
<a name="l00362"></a>00362 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a5086e88784204568d4cf4e227309025f_cgraph.png" border="0" usemap="#class_s_p_h_solver_a5086e88784204568d4cf4e227309025f_cgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a5086e88784204568d4cf4e227309025f_cgraph_map" id="class_s_p_h_solver_a5086e88784204568d4cf4e227309025f_cgraph">
<area shape="rect" href="class_s_p_h_solver.html#a22ef88cb68a8f4befa6f281e10cf65a6" title="normalise a vector" alt="" coords="284,5,468,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a5086e88784204568d4cf4e227309025f_icgraph.png" border="0" usemap="#class_s_p_h_solver_a5086e88784204568d4cf4e227309025f_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a5086e88784204568d4cf4e227309025f_icgraph_map" id="class_s_p_h_solver_a5086e88784204568d4cf4e227309025f_icgraph">
<area shape="rect" href="class_s_p_h_solver.html#ad137f4330190d8627fdb93ba373bb406" title="calculate Pressure Force Component" alt="" coords="284,5,577,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e4f7c09c45d3f49fa38f813d55e724b"></a><!-- doxytag: member="SPHSolver::KernelViscosityLaplacian" ref="a3e4f7c09c45d3f49fa38f813d55e724b" args="(const ngl::Real _seperationLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real SPHSolver::KernelViscosityLaplacian </td>
          <td>(</td>
          <td class="paramtype">const ngl::Real&nbsp;</td>
          <td class="paramname"> <em>_seperationLength</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate the viscosity laplacian kernel </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_seperationLength</em>&nbsp;</td><td>amplitude of the distance vector between the fluid particle and neighbour fluid particle </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00364">364</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_s_p_h_solver_8h_source.html#l00064">m_smoothingLength</a>, and <a class="el" href="_s_p_h_solver_8h_source.html#l00082">m_weightViscosityLaplacian</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00365"></a>00365 {
<a name="l00366"></a>00366     ngl::Real weight = <a class="code" href="class_s_p_h_solver.html#a7c059675a5ca3fec7f4bf7e59d19f5ab" title="pre-calculated part of the viscosity laplacian kernel">m_weightViscosityLaplacian</a> * (<a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a> - _seperationLength);
<a name="l00367"></a>00367 
<a name="l00368"></a>00368     <span class="keywordflow">return</span> weight;
<a name="l00369"></a>00369 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a3e4f7c09c45d3f49fa38f813d55e724b_icgraph.png" border="0" usemap="#class_s_p_h_solver_a3e4f7c09c45d3f49fa38f813d55e724b_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a3e4f7c09c45d3f49fa38f813d55e724b_icgraph_map" id="class_s_p_h_solver_a3e4f7c09c45d3f49fa38f813d55e724b_icgraph">
<area shape="rect" href="class_s_p_h_solver.html#a5913e7c1cd5a66c51eb03762025c0782" title="calculate Viscosity Force Component" alt="" coords="291,5,587,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a22ef88cb68a8f4befa6f281e10cf65a6"></a><!-- doxytag: member="SPHSolver::normalizeVector" ref="a22ef88cb68a8f4befa6f281e10cf65a6" args="(const ngl::Vector _vector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Vector SPHSolver::normalizeVector </td>
          <td>(</td>
          <td class="paramtype">const ngl::Vector&nbsp;</td>
          <td class="paramname"> <em>_vector</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>normalise a vector </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_vector</em>&nbsp;</td><td>the vector to normalise </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00371">371</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00372"></a>00372 {
<a name="l00373"></a>00373     ngl::Vector v = _vector;
<a name="l00374"></a>00374     <span class="keywordflow">if</span> (_vector.length() &gt; 0.0001f) v.normalize();
<a name="l00375"></a>00375 
<a name="l00376"></a>00376     <span class="keywordflow">return</span> v;
<a name="l00377"></a>00377 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a22ef88cb68a8f4befa6f281e10cf65a6_icgraph.png" border="0" usemap="#class_s_p_h_solver_a22ef88cb68a8f4befa6f281e10cf65a6_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a22ef88cb68a8f4befa6f281e10cf65a6_icgraph_map" id="class_s_p_h_solver_a22ef88cb68a8f4befa6f281e10cf65a6_icgraph">
<area shape="rect" href="class_s_p_h_solver.html#a5086e88784204568d4cf4e227309025f" title="calculate the pressure (spiky) gradient kernel" alt="" coords="240,5,469,32"/><area shape="rect" href="class_s_p_h_solver.html#ad137f4330190d8627fdb93ba373bb406" title="calculate Pressure Force Component" alt="" coords="519,5,812,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a38ef1e0f18763b28118e3be3a8ba7d08"></a><!-- doxytag: member="SPHSolver::updateFluid" ref="a38ef1e0f18763b28118e3be3a8ba7d08" args="(EnvironmentAndRigidBody *io_environment, Integrate *_integrate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPHSolver::updateFluid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_environment_and_rigid_body.html">EnvironmentAndRigidBody</a> *&nbsp;</td>
          <td class="paramname"> <em>io_environment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_integrate.html">Integrate</a> *&nbsp;</td>
          <td class="paramname"> <em>_integrate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>update the fluid state at each timestep interval </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>io_environment</em>&nbsp;</td><td>pointer to the enviornment class for performing collision check and resolution </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_integrate</em>&nbsp;</td><td>pointer to the integrate class used to perform integration </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s_p_h_solver_8cpp_source.html#l00051">51</a> of file <a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a>.</p>

<p>References <a class="el" href="_environment_and_rigid_body_8cpp_source.html#l00035">EnvironmentAndRigidBody::checkCollision()</a>, <a class="el" href="_particle_8h_source.html#l00063">Particle::getCurrentPosition()</a>, <a class="el" href="_particle_8h_source.html#l00077">Particle::getCurrentVelocity()</a>, <a class="el" href="_fluid_particle_8h_source.html#l00108">FluidParticle::getDensity()</a>, <a class="el" href="_particle_8h_source.html#l00050">Particle::getId()</a>, <a class="el" href="_particle_8h_source.html#l00057">Particle::getMass()</a>, <a class="el" href="_fluid_particle_8h_source.html#l00105">FluidParticle::getScalerPressure()</a>, <a class="el" href="_integrate_8cpp_source.html#l00012">Integrate::integrateNext()</a>, and <a class="el" href="_simulation_parameters_8h_source.html#l00029">SimulationParameters::s_accelerationOfFreeFall</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00055"></a>00055 {
<a name="l00056"></a>00056     <span class="comment">//clear neighbour map</span>
<a name="l00057"></a>00057     <a class="code" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd" title="the neighbouring structure for the fluid particles">m_spatialHashing</a>-&gt;<a class="code" href="class_spatial_hashing.html#a58638653aed1d4d304c6e2aa839ba9ba" title="clear the hash map">clearHashmap</a>();
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="preprocessor">#pragma omp parallel</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061 {
<a name="l00062"></a>00062     <span class="comment">//refresh neighbour list</span>
<a name="l00063"></a>00063     <a class="code" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd" title="the neighbouring structure for the fluid particles">m_spatialHashing</a>-&gt;<a class="code" href="class_spatial_hashing.html#acd1b87ec8ea289a18d431b7a3fde50c0" title="refresh the hash map at each iteration">refreshHashmap</a>(<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>);
<a name="l00064"></a>00064 }
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="preprocessor">#pragma omp parallel</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>{
<a name="l00068"></a>00068 <span class="preprocessor">#pragma omp for schedule(dynamic, 50)</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span>    <span class="comment">//density-pressure calculations</span>
<a name="l00070"></a>00070     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>.size(); ++i)
<a name="l00071"></a>00071     {
<a name="l00072"></a>00072         <span class="comment">/*------Search and gather neighbour fluid particles for the current fluid particle-----------------------------------------*/</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074         std::vector&lt;FluidParticle&gt; neighbourList = <a class="code" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd" title="the neighbouring structure for the fluid particles">m_spatialHashing</a>-&gt;<a class="code" href="class_spatial_hashing.html#af5c8f67520bfd03e32800e87af56ffba" title="return neighbours of a particle">searchFluidParticleNeighbours</a>(<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getCurrentPosition());
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <span class="comment">/*-----Calculate Density----------------------------------------------------------------------------*/</span>
<a name="l00077"></a>00077 
<a name="l00078"></a>00078         ngl::Real density = 0.0;
<a name="l00079"></a>00079         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; neighbourList.size(); j++)
<a name="l00080"></a>00080         {
<a name="l00081"></a>00081             <span class="comment">//accumulate density</span>
<a name="l00082"></a>00082             density += neighbourList[j].getMass() * <a class="code" href="class_s_p_h_solver.html#a293590ab5fbacd0a13bbd36dc3971e8d" title="calculate the poly 6 kernel">KernelPoly</a>((<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getCurrentPosition() - neighbourList[j].getCurrentPosition()).length());
<a name="l00083"></a>00083         }
<a name="l00084"></a>00084 
<a name="l00085"></a>00085         <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setDensity(density);
<a name="l00086"></a>00086 
<a name="l00087"></a>00087         <span class="comment">/*-----Calculate Scaler Pressure Value------------------------------------------------------ */</span>
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         ngl::Real _scalerPressure = 0;
<a name="l00090"></a>00090 
<a name="l00091"></a>00091         _scalerPressure = <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getGasConstant() * (<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getDensity() - <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getRestDensity());
<a name="l00092"></a>00092 
<a name="l00093"></a>00093         <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setScalerPressure(_scalerPressure);
<a name="l00094"></a>00094     }
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="preprocessor">#pragma omp for schedule(dynamic, 50)</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>    <span class="comment">/*----Calculation of Fluid Forces---------------------------------------------------------------------*/</span>
<a name="l00098"></a>00098 
<a name="l00099"></a>00099     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>.size(); ++i)
<a name="l00100"></a>00100     {
<a name="l00101"></a>00101         <span class="comment">//getCurrentPosition() net forces accumulate</span>
<a name="l00102"></a>00102         <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].resetForces();
<a name="l00103"></a>00103 
<a name="l00104"></a>00104         <span class="comment">//get neighbours of current particle</span>
<a name="l00105"></a>00105         std::vector&lt;FluidParticle&gt; neighbourList = <a class="code" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd" title="the neighbouring structure for the fluid particles">m_spatialHashing</a>-&gt;<a class="code" href="class_spatial_hashing.html#af5c8f67520bfd03e32800e87af56ffba" title="return neighbours of a particle">searchFluidParticleNeighbours</a>(<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getCurrentPosition());
<a name="l00106"></a>00106 
<a name="l00107"></a>00107         <span class="comment">//calculate internal forces of current particle</span>
<a name="l00108"></a>00108         ngl::Real massPerDensity = 0;
<a name="l00109"></a>00109         ngl::Vector seperationVector = 0;
<a name="l00110"></a>00110         ngl::Real seperationLength = 0.0;
<a name="l00111"></a>00111 
<a name="l00112"></a>00112         ngl::Vector pressure = 0;
<a name="l00113"></a>00113         ngl::Vector viscosity = 0;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115         ngl::Vector surfaceGradient = 0;
<a name="l00116"></a>00116         ngl::Real surfaceLaplacian = 0;
<a name="l00117"></a>00117 
<a name="l00118"></a>00118         ngl::Vector surfaceTensionGradient = 0;
<a name="l00119"></a>00119         ngl::Real surfaceTensionLaplacian = 0;
<a name="l00120"></a>00120         ngl::Vector interfaceTensionGradient = 0;
<a name="l00121"></a>00121         ngl::Real interfaceTensionLaplacian = 0;
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 
<a name="l00124"></a>00124             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; neighbourList.size(); j++)
<a name="l00125"></a>00125             {
<a name="l00126"></a>00126                 <span class="comment">/*----Get neighbour fluid particle----------------------------------*/</span>
<a name="l00127"></a>00127                 <a class="code" href="class_fluid_particle.html" title="stores all attributes for a fluid for use with SPH">FluidParticle</a> neighbour = neighbourList[j];
<a name="l00128"></a>00128 
<a name="l00129"></a>00129                 <span class="comment">/*-----Calculating repetative values---------------------------------*/</span>
<a name="l00130"></a>00130 
<a name="l00131"></a>00131                 massPerDensity = neighbour.<a class="code" href="class_particle.html#a51c37948e3b1e36f812be660c306c93b" title="return the mass">getMass</a>() / neighbour.<a class="code" href="class_fluid_particle.html#ae46a808efdc6e4132ee84564fb644fab" title="get the density">getDensity</a>();
<a name="l00132"></a>00132                 seperationVector = <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getCurrentPosition() - neighbour.<a class="code" href="class_particle.html#a7bb9e571a782e273da7efcf77b3b578f" title="return the current position">getCurrentPosition</a>();
<a name="l00133"></a>00133                 seperationLength = seperationVector.length();
<a name="l00134"></a>00134 
<a name="l00135"></a>00135                 <span class="comment">/*------Calculating the pressure and viscosity force on the current particle applied by the neighbour particle----------*/</span>
<a name="l00136"></a>00136 
<a name="l00137"></a>00137                 <span class="keywordflow">if</span> (neighbour.<a class="code" href="class_particle.html#ad9688047786047c9fecf0c304b4f6294" title="return the id">getId</a>() != <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getId())
<a name="l00138"></a>00138                 {
<a name="l00139"></a>00139                     <span class="comment">/* Accumulate all the Pressure Force for the current fluid particle */</span>
<a name="l00140"></a>00140 
<a name="l00141"></a>00141                     pressure = pressure + <a class="code" href="class_s_p_h_solver.html#ad137f4330190d8627fdb93ba373bb406" title="calculate Pressure Force Component">calculatePressureForceComponent</a>(<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getScalerPressure(),<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getDensity(),
<a name="l00142"></a>00142                                                                           neighbour.<a class="code" href="class_fluid_particle.html#ae0122ebaedcbf00aed6ab9b4f8559bf2" title="get the pressure">getScalerPressure</a>(),neighbour.<a class="code" href="class_fluid_particle.html#ae46a808efdc6e4132ee84564fb644fab" title="get the density">getDensity</a>(),
<a name="l00143"></a>00143                                                                           neighbour.<a class="code" href="class_particle.html#a51c37948e3b1e36f812be660c306c93b" title="return the mass">getMass</a>(),seperationVector);
<a name="l00144"></a>00144 
<a name="l00145"></a>00145                     <span class="comment">/* Accumulate all Viscosity Force for the current fluid particle */</span>
<a name="l00146"></a>00146 
<a name="l00147"></a>00147                     viscosity = viscosity + <a class="code" href="class_s_p_h_solver.html#a5913e7c1cd5a66c51eb03762025c0782" title="calculate Viscosity Force Component">calculateViscosityForceComponent</a>(massPerDensity,<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getCurrentVelocity(),
<a name="l00148"></a>00148                                                                              neighbour.<a class="code" href="class_particle.html#af19d3d862218eda779fc03d5e1678abe" title="return the current velocity">getCurrentVelocity</a>(),seperationLength);
<a name="l00149"></a>00149 
<a name="l00150"></a>00150                 }
<a name="l00151"></a>00151 
<a name="l00152"></a>00152                 <span class="comment">/* Accumulate Surface Tension Gradinet by calculating and accumulating Surface Tension Gradient Component */</span>
<a name="l00153"></a>00153 
<a name="l00154"></a>00154                 surfaceTensionGradient = surfaceTensionGradient +
<a name="l00155"></a>00155                                          <a class="code" href="class_s_p_h_solver.html#a5ff4d84f41872763f04dfac24bda7e5d" title="calculate Surface Tension Gradient Component">calculateSurfaceTennsionGradientComponent</a>(massPerDensity, <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getSurfaceColorCoefficient(),seperationVector);
<a name="l00156"></a>00156 
<a name="l00157"></a>00157                 <span class="comment">/* Accumulate Surface Tension Laplacian by calculating and accumulating Surface Tension Laplacian Component */</span>
<a name="l00158"></a>00158 
<a name="l00159"></a>00159                 surfaceTensionLaplacian = surfaceTensionLaplacian +
<a name="l00160"></a>00160                                           <a class="code" href="class_s_p_h_solver.html#abcc8f4b80a896833cdfb9f1ca71b28a2" title="calculate Surface Tension Laplacian Component">calculateSurfaceTensionLaplacianComponent</a>(massPerDensity,<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getSurfaceColorCoefficient(),seperationLength);
<a name="l00161"></a>00161 
<a name="l00162"></a>00162                 <span class="comment">/* Accumulate Interface Tension Gradient by calculating and accumulating Interface Tension Gradient Component */</span>
<a name="l00163"></a>00163 
<a name="l00164"></a>00164                 interfaceTensionGradient = surfaceTensionGradient +
<a name="l00165"></a>00165                                            <a class="code" href="class_s_p_h_solver.html#af6b1adebbc96d3cb22f6990a05694f70" title="calculate Interface Tension Gradient Component">calculateInterfaceTensionGradientComponent</a>(massPerDensity,<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getInterfaceColorCoefficient(),seperationVector);
<a name="l00166"></a>00166 
<a name="l00167"></a>00167                 <span class="comment">/* Accumulate Interface Tension Laplacian by calculating and accumulating Interface Tension Laplacian */</span>
<a name="l00168"></a>00168 
<a name="l00169"></a>00169                 interfaceTensionLaplacian = surfaceTensionLaplacian +
<a name="l00170"></a>00170                                             <a class="code" href="class_s_p_h_solver.html#ac1f193569656db4fe11aa5f716c5169b" title="calculate Interface Tension Laplacian Component">calculateInterfaceTensionLaplacianComponent</a>(massPerDensity,<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getInterfaceColorCoefficient(),seperationLength);
<a name="l00171"></a>00171 
<a name="l00172"></a>00172             }
<a name="l00173"></a>00173 
<a name="l00174"></a>00174     <span class="comment">/*---Calculating and Setting Pressure Force --------------------------------------------------------------------------*/</span>
<a name="l00175"></a>00175 
<a name="l00176"></a>00176     ngl::Vector pressureForce = 0;
<a name="l00177"></a>00177 
<a name="l00178"></a>00178     pressureForce = -1.0 * <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getDensity() * pressure;
<a name="l00179"></a>00179 
<a name="l00180"></a>00180     <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setPressureForce(pressureForce);
<a name="l00181"></a>00181 
<a name="l00182"></a>00182     <span class="comment">/*---Calculating and Setting Viscosity Force -------------------------------------------------------------------------*/</span>
<a name="l00183"></a>00183 
<a name="l00184"></a>00184     ngl::Vector viscosityForce = 0;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186     viscosityForce = viscosity * <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getViscosityConstant();
<a name="l00187"></a>00187 
<a name="l00188"></a>00188     <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setViscosityForce(viscosityForce);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     <span class="comment">/*---Calculating and Setting Surface Tension Force ---------------------------------------------------------------------*/</span>
<a name="l00191"></a>00191 
<a name="l00192"></a>00192     ngl::Vector surfaceTensionForce = 0;
<a name="l00193"></a>00193 
<a name="l00194"></a>00194     <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setSurfaceTensionForce(surfaceTensionForce);
<a name="l00195"></a>00195     <span class="keywordflow">if</span> (surfaceTensionGradient.length() &gt; <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getSurfaceTensionThreshold())
<a name="l00196"></a>00196         {
<a name="l00197"></a>00197             surfaceTensionForce = -1.0 * <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getSurfaceTensionCoefficient() * <a class="code" href="class_s_p_h_solver.html#a22ef88cb68a8f4befa6f281e10cf65a6" title="normalise a vector">normalizeVector</a>(surfaceTensionGradient) * surfaceTensionLaplacian;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199             <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setSurfaceTensionForce(surfaceTensionForce);
<a name="l00200"></a>00200         }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     <span class="comment">/*---Calculating and Setting Interface Tension Force----------------------------------------------------------------------*/</span>
<a name="l00203"></a>00203 
<a name="l00204"></a>00204     ngl::Vector interfaceTensionForce = 0;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206     <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setInterfaceTensionForce(interfaceTensionForce);
<a name="l00207"></a>00207         <span class="keywordflow">if</span> (interfaceTensionGradient.length() &gt; <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getInterfaceTensionThreshold())
<a name="l00208"></a>00208         {
<a name="l00209"></a>00209             interfaceTensionForce = -1.0 * <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getInterfaceTensionCoefficient() * <a class="code" href="class_s_p_h_solver.html#a22ef88cb68a8f4befa6f281e10cf65a6" title="normalise a vector">normalizeVector</a>(interfaceTensionGradient) * interfaceTensionLaplacian;
<a name="l00210"></a>00210 
<a name="l00211"></a>00211             <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setInterfaceTensionForce(interfaceTensionForce);
<a name="l00212"></a>00212         }
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <span class="comment">/*--- Calculating and setting the gravity force------------------------------------------------------------------*/</span>
<a name="l00215"></a>00215 
<a name="l00216"></a>00216     ngl::Vector gravityForce;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218     ngl::Real _x = 0; ngl::Real _y = 0; ngl::Real _z = 0;
<a name="l00219"></a>00219     _y =  <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getDensity() * <a class="code" href="class_simulation_parameters.html#a7e0162b56c6960d1aceb3a88ee3326e3" title="acceleration due to gravity(free fall) value">SimulationParameters::s_accelerationOfFreeFall</a>;
<a name="l00220"></a>00220     gravityForce.set(_x,_y,_z);
<a name="l00221"></a>00221 
<a name="l00222"></a>00222     <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setGravityForce(gravityForce);
<a name="l00223"></a>00223 
<a name="l00224"></a>00224     <span class="comment">/*---Calculating and Setting Acceleration by calculating the total resultant forces and dividing then by density----------------------------*/</span>
<a name="l00225"></a>00225 
<a name="l00226"></a>00226     ngl::Vector netForce = 0;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228     netForce = <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getGravityForce() + <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getPressureForce() + <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getViscosityForce() +
<a name="l00229"></a>00229                <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getSurfaceTensionForce() + <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getInterfaceTensionForce();
<a name="l00230"></a>00230 
<a name="l00231"></a>00231     <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].setNetForce(netForce);
<a name="l00232"></a>00232 
<a name="l00233"></a>00233     ngl::Vector acceleration = 0;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235     acceleration = <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getNetForce() / <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].getDensity();
<a name="l00236"></a>00236 
<a name="l00237"></a>00237     <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i].updateAcceleration(acceleration);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239     }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 <span class="preprocessor">#pragma omp for schedule(dynamic, 50)</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span>    <span class="comment">/*-----Integration of fluid and calculating its movement--------*/</span>
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>.size(); ++i)
<a name="l00245"></a>00245     {
<a name="l00246"></a>00246 
<a name="l00247"></a>00247             _integrate-&gt;<a class="code" href="class_integrate.html#ada967b8b2b909f7c827009dad33738ec" title="integrate next velocity and position of a particle">integrateNext</a>(<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i]);
<a name="l00248"></a>00248     }
<a name="l00249"></a>00249 
<a name="l00250"></a>00250 <span class="preprocessor">#pragma omp for schedule(dynamic, 50)</span>
<a name="l00251"></a>00251 <span class="preprocessor"></span>    <span class="comment">/*----Checking and Handling Collision of Fluid with the Environment Box and Rigid Bodies--------------*/</span>
<a name="l00252"></a>00252     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>.size(); ++i)
<a name="l00253"></a>00253     {
<a name="l00254"></a>00254         io_environment-&gt;<a class="code" href="class_environment_and_rigid_body.html#a5f3b1304b9a7ba38c69367385340e2cb" title="detects and handles collision among particles (sphere rbd and fluid particle)">checkCollision</a>(<a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>[i]);
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256 }
<a name="l00257"></a>00257 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a38ef1e0f18763b28118e3be3a8ba7d08_cgraph.png" border="0" usemap="#class_s_p_h_solver_a38ef1e0f18763b28118e3be3a8ba7d08_cgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a38ef1e0f18763b28118e3be3a8ba7d08_cgraph_map" id="class_s_p_h_solver_a38ef1e0f18763b28118e3be3a8ba7d08_cgraph">
<area shape="rect" href="class_environment_and_rigid_body.html#a5f3b1304b9a7ba38c69367385340e2cb" title="detects and handles collision among particles (sphere rbd and fluid particle)" alt="" coords="213,145,480,172"/><area shape="rect" href="class_particle.html#a7bb9e571a782e273da7efcf77b3b578f" title="return the current position" alt="" coords="1005,95,1184,121"/><area shape="rect" href="class_particle.html#af19d3d862218eda779fc03d5e1678abe" title="return the current velocity" alt="" coords="1005,247,1184,273"/><area shape="rect" href="class_fluid_particle.html#ae46a808efdc6e4132ee84564fb644fab" title="get the density" alt="" coords="265,348,428,375"/><area shape="rect" href="class_particle.html#ad9688047786047c9fecf0c304b4f6294" title="return the id" alt="" coords="296,399,397,425"/><area shape="rect" href="class_particle.html#a51c37948e3b1e36f812be660c306c93b" title="return the mass" alt="" coords="285,449,408,476"/><area shape="rect" href="class_fluid_particle.html#ae0122ebaedcbf00aed6ab9b4f8559bf2" title="get the pressure" alt="" coords="243,500,451,527"/><area shape="rect" href="class_integrate.html#ada967b8b2b909f7c827009dad33738ec" title="integrate next velocity and position of a particle" alt="" coords="269,247,424,273"/><area shape="rect" href="class_environment_and_rigid_body.html#ad2f2263fff1ed7f94bb920b7970bdfa3" title="handle collision between fluid and boundary box" alt="" coords="535,95,937,121"/><area shape="rect" href="class_environment_and_rigid_body.html#acfad78cb6ae8ab9d7fb04479c98a618e" title="handle collision between fluid and passive sphere rigid body" alt="" coords="528,145,944,172"/><area shape="rect" href="class_particle.html#aa036d0b56d97a9f56d9c5e3ab9035b9d" title="return the radius" alt="" coords="1005,44,1184,71"/><area shape="rect" href="class_particle.html#a4ea44dad91df2b0374f2d40d44452b76" title="update the position to a new value" alt="" coords="1015,196,1175,223"/><area shape="rect" href="class_particle.html#adacb41b0128b528cb8313337fa224672" title="update the velocity to a new value" alt="" coords="1015,145,1175,172"/><area shape="rect" href="class_integrate.html#aec359fd96ecbce78f7fb042798402665" title="integrate a particle using leapfrog" alt="" coords="647,247,825,273"/><area shape="rect" href="class_integrate.html#ae9b7697b3cf896e6db63fc9653846591" title="integrate a particle using semi implicit euler" alt="" coords="620,196,852,223"/><area shape="rect" href="class_particle.html#a0c30fc4edf9e8fba9c015cdd0c4d7dc0" title="return the current acceleration" alt="" coords="992,297,1197,324"/><area shape="rect" href="class_particle.html#ab3de889d46b3e95cf91b08674865d128" title="return the last acceleration" alt="" coords="1001,348,1188,375"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="class_s_p_h_solver_a38ef1e0f18763b28118e3be3a8ba7d08_icgraph.png" border="0" usemap="#class_s_p_h_solver_a38ef1e0f18763b28118e3be3a8ba7d08_icgraph_map" alt=""></div>
<map name="class_s_p_h_solver_a38ef1e0f18763b28118e3be3a8ba7d08_icgraph_map" id="class_s_p_h_solver_a38ef1e0f18763b28118e3be3a8ba7d08_icgraph">
<area shape="rect" href="class_g_l_window.html#a8901509418ab117e8613d624df9b5666" title="the timer event triggered from the timers" alt="" coords="213,5,365,32"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a67a0ab46b9a3105400546a758ac6f2d1"></a><!-- doxytag: member="SPHSolver::m_drawFluidParticles" ref="a67a0ab46b9a3105400546a758ac6f2d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_s_p_h_solver.html#a67a0ab46b9a3105400546a758ac6f2d1">SPHSolver::m_drawFluidParticles</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>flag to control to display fluid particles in OpenGL Window </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00091">91</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7eacf79d8d39f885736c50ac8dd81aa2"></a><!-- doxytag: member="SPHSolver::m_fluidNameList" ref="a7eacf79d8d39f885736c50ac8dd81aa2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; <a class="el" href="class_s_p_h_solver.html#a7eacf79d8d39f885736c50ac8dd81aa2">SPHSolver::m_fluidNameList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00061">61</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae158d26d2bb95bdc260e289e6b8c3b0a"></a><!-- doxytag: member="SPHSolver::m_fluidParticleList" ref="ae158d26d2bb95bdc260e289e6b8c3b0a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_fluid_particle.html">FluidParticle</a>&gt; <a class="el" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a">SPHSolver::m_fluidParticleList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>list of particles making up the fluid simulation </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00059">59</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad168b241193a5a34b33553cbd8a26c6f"></a><!-- doxytag: member="SPHSolver::m_iteration" ref="ad168b241193a5a34b33553cbd8a26c6f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_s_p_h_solver.html#ad168b241193a5a34b33553cbd8a26c6f">SPHSolver::m_iteration</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>iteration counter </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00085">85</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a09a49a1460b8d9d311c177bb61d614fc"></a><!-- doxytag: member="SPHSolver::m_smoothingLength" ref="a09a49a1460b8d9d311c177bb61d614fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real <a class="el" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc">SPHSolver::m_smoothingLength</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>smoothing kernel length </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00064">64</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1743796456c478d5e444d83384bef1dd"></a><!-- doxytag: member="SPHSolver::m_spatialHashing" ref="a1743796456c478d5e444d83384bef1dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_spatial_hashing.html">SpatialHashing</a>* <a class="el" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd">SPHSolver::m_spatialHashing</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the neighbouring structure for the fluid particles </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00067">67</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a60c10a0a436f307626d3422fb05809ce"></a><!-- doxytag: member="SPHSolver::m_visualizationType" ref="a60c10a0a436f307626d3422fb05809ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="class_s_p_h_solver.html#a60c10a0a436f307626d3422fb05809ce">SPHSolver::m_visualizationType</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>shading type of fluid particles </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00088">88</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad5a368aa4d10c71bb1aafe84c9f9f838"></a><!-- doxytag: member="SPHSolver::m_weightPoly" ref="ad5a368aa4d10c71bb1aafe84c9f9f838" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real <a class="el" href="class_s_p_h_solver.html#ad5a368aa4d10c71bb1aafe84c9f9f838">SPHSolver::m_weightPoly</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pre-calculated part of the poly 6 kernel </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00070">70</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a90434405f6296766d54626fe0582d664"></a><!-- doxytag: member="SPHSolver::m_weightPolyGradient" ref="a90434405f6296766d54626fe0582d664" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real <a class="el" href="class_s_p_h_solver.html#a90434405f6296766d54626fe0582d664">SPHSolver::m_weightPolyGradient</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pre-calculated part of the poly 6 gradient kernel </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00073">73</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a76b956a2ddc98d9055438a0b57edba15"></a><!-- doxytag: member="SPHSolver::m_weightPolyLaplacian" ref="a76b956a2ddc98d9055438a0b57edba15" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real <a class="el" href="class_s_p_h_solver.html#a76b956a2ddc98d9055438a0b57edba15">SPHSolver::m_weightPolyLaplacian</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pre-calculated part of the poly 6 laplacian kernel </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00076">76</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a69a9cc39ecf773ca645afd281794cf9a"></a><!-- doxytag: member="SPHSolver::m_weightPressureGradient" ref="a69a9cc39ecf773ca645afd281794cf9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real <a class="el" href="class_s_p_h_solver.html#a69a9cc39ecf773ca645afd281794cf9a">SPHSolver::m_weightPressureGradient</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pre-calculated part of the pressure gradient kernel </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00079">79</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7c059675a5ca3fec7f4bf7e59d19f5ab"></a><!-- doxytag: member="SPHSolver::m_weightViscosityLaplacian" ref="a7c059675a5ca3fec7f4bf7e59d19f5ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ngl::Real <a class="el" href="class_s_p_h_solver.html#a7c059675a5ca3fec7f4bf7e59d19f5ab">SPHSolver::m_weightViscosityLaplacian</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pre-calculated part of the viscosity laplacian kernel </p>

<p>Definition at line <a class="el" href="_s_p_h_solver_8h_source.html#l00082">82</a> of file <a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="_s_p_h_solver_8h_source.html">SPHSolver.h</a></li>
<li>src/<a class="el" href="_s_p_h_solver_8cpp_source.html">SPHSolver.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Sun Dec 18 03:11:25 2011 for Smooth Particle Hydrodynamics Solver for Lagrangian Fluid Simulation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
