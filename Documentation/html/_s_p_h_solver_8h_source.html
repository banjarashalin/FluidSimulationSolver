<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Smooth Particle Hydrodynamics Solver for Lagrangian Fluid Simulation: include/SPHSolver.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>include/SPHSolver.h</h1><a href="_s_p_h_solver_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef SPHSOLVER_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define SPHSOLVER_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;vector&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;<a class="code" href="_spatial_hashing_8h.html" title="handles neighbour search using spatial hashing">SpatialHashing.h</a>&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;<a class="code" href="_environment_and_rigid_body_8h.html" title="manages interaction between rigid body spheres and boundary and fluids">EnvironmentAndRigidBody.h</a>&quot;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;<a class="code" href="_fluid_particle_8h.html" title="the basic unit of the lagrangian simulation">FluidParticle.h</a>&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;ngl/ShaderManager.h&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;ngl/TransformStack.h&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="_integrate_8h.html" title="manages the integration of acceleration using two different methods">Integrate.h</a>&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 
<a name="l00022"></a>00022 
<a name="l00023"></a><a class="code" href="class_s_p_h_solver.html">00023</a> <span class="keyword">class </span><a class="code" href="class_s_p_h_solver.html" title="creates fluid particles and perform SPH fluid simulation at every iteration">SPHSolver</a>
<a name="l00024"></a>00024 {
<a name="l00025"></a>00025 <span class="keyword">public</span>:
<a name="l00027"></a>00027     <a class="code" href="class_s_p_h_solver.html#abe3a0bdf9c42b4213944bc0332020e65" title="ctor">SPHSolver</a>();
<a name="l00028"></a>00028 
<a name="l00030"></a>00030     <a class="code" href="class_s_p_h_solver.html#a81a0ee1c05b649912faa1e9839f71883" title="dtor">~SPHSolver</a>();
<a name="l00031"></a>00031 
<a name="l00035"></a>00035     <span class="keywordtype">void</span> <a class="code" href="class_s_p_h_solver.html#a38ef1e0f18763b28118e3be3a8ba7d08" title="update the fluid state at each timestep interval">updateFluid</a>
<a name="l00036"></a>00036             (
<a name="l00037"></a>00037                 <a class="code" href="class_environment_and_rigid_body.html" title="stores all rigid body spheres and boundary and manages collisions of fluids with...">EnvironmentAndRigidBody</a>* io_environment,
<a name="l00038"></a>00038                 <a class="code" href="class_integrate.html" title="handles integration to find next position and velocity of particles">Integrate</a>* _integrate
<a name="l00039"></a>00039             );
<a name="l00040"></a>00040 
<a name="l00042"></a>00042     std::vector&lt;std::vector&lt;ngl::Vector&gt; &gt; <a class="code" href="class_s_p_h_solver.html#ab8ad27fc25e030d731e249ccfd2efd20" title="return the huge position list of all the fluid particles">getFluidParticlePositionList</a>();
<a name="l00043"></a>00043 
<a name="l00045"></a><a class="code" href="class_s_p_h_solver.html#aa73e68cd39ecbc3e0c868315b1699fcb">00045</a>     <span class="keyword">inline</span> std::vector&lt;std::string&gt; <a class="code" href="class_s_p_h_solver.html#aa73e68cd39ecbc3e0c868315b1699fcb" title="return the list storing the names of different fluid created">getFluidNameList</a>() {<span class="keywordflow">return</span> <a class="code" href="class_s_p_h_solver.html#a7eacf79d8d39f885736c50ac8dd81aa2">m_fluidNameList</a>;}
<a name="l00046"></a>00046 
<a name="l00048"></a><a class="code" href="class_s_p_h_solver.html#adcadefbe7d620b8782065a8899bc8040">00048</a>     <span class="keyword">inline</span> std::string <a class="code" href="class_s_p_h_solver.html#adcadefbe7d620b8782065a8899bc8040" title="return the shader name to be used for displaying the simulation data">getVisualizationType</a>() {<span class="keywordflow">return</span> <a class="code" href="class_s_p_h_solver.html#a60c10a0a436f307626d3422fb05809ce" title="shading type of fluid particles">m_visualizationType</a>;}
<a name="l00049"></a>00049 
<a name="l00051"></a><a class="code" href="class_s_p_h_solver.html#ad389df7449294b5a8de1fc163acbf29b">00051</a>     <span class="keyword">inline</span> std::vector&lt;FluidParticle&gt; <a class="code" href="class_s_p_h_solver.html#ad389df7449294b5a8de1fc163acbf29b" title="return the list of fluid particles being simulated">getFluidParticleList</a>() {<span class="keywordflow">return</span> <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>;}
<a name="l00052"></a>00052 
<a name="l00054"></a><a class="code" href="class_s_p_h_solver.html#a4a224b16ea8c301048fb88cdbd0ac505">00054</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="class_s_p_h_solver.html#a4a224b16ea8c301048fb88cdbd0ac505" title="returns the flag for drawing fluids">getDrawFluidParticles</a>() {<span class="keywordflow">return</span> <a class="code" href="class_s_p_h_solver.html#a67a0ab46b9a3105400546a758ac6f2d1" title="flag to control to display fluid particles in OpenGL Window">m_drawFluidParticles</a>;}
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="keyword">private</span>:
<a name="l00057"></a>00057 
<a name="l00059"></a><a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a">00059</a>     std::vector&lt;FluidParticle&gt; <a class="code" href="class_s_p_h_solver.html#ae158d26d2bb95bdc260e289e6b8c3b0a" title="list of particles making up the fluid simulation">m_fluidParticleList</a>;
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="class_s_p_h_solver.html#a7eacf79d8d39f885736c50ac8dd81aa2">00061</a>     std::vector&lt;std::string&gt;<a class="code" href="class_s_p_h_solver.html#a7eacf79d8d39f885736c50ac8dd81aa2">m_fluidNameList</a>;
<a name="l00062"></a>00062 
<a name="l00064"></a><a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc">00064</a>     ngl::Real <a class="code" href="class_s_p_h_solver.html#a09a49a1460b8d9d311c177bb61d614fc" title="smoothing kernel length">m_smoothingLength</a>;
<a name="l00065"></a>00065 
<a name="l00067"></a><a class="code" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd">00067</a>     <a class="code" href="class_spatial_hashing.html" title="implements spatial hashing for the search of fluid particle neighbours">SpatialHashing</a>* <a class="code" href="class_s_p_h_solver.html#a1743796456c478d5e444d83384bef1dd" title="the neighbouring structure for the fluid particles">m_spatialHashing</a>;
<a name="l00068"></a>00068 
<a name="l00070"></a><a class="code" href="class_s_p_h_solver.html#ad5a368aa4d10c71bb1aafe84c9f9f838">00070</a>     ngl::Real <a class="code" href="class_s_p_h_solver.html#ad5a368aa4d10c71bb1aafe84c9f9f838" title="pre-calculated part of the poly 6 kernel">m_weightPoly</a>;
<a name="l00071"></a>00071 
<a name="l00073"></a><a class="code" href="class_s_p_h_solver.html#a90434405f6296766d54626fe0582d664">00073</a>     ngl::Real <a class="code" href="class_s_p_h_solver.html#a90434405f6296766d54626fe0582d664" title="pre-calculated part of the poly 6 gradient kernel">m_weightPolyGradient</a>;
<a name="l00074"></a>00074 
<a name="l00076"></a><a class="code" href="class_s_p_h_solver.html#a76b956a2ddc98d9055438a0b57edba15">00076</a>     ngl::Real <a class="code" href="class_s_p_h_solver.html#a76b956a2ddc98d9055438a0b57edba15" title="pre-calculated part of the poly 6 laplacian kernel">m_weightPolyLaplacian</a>;
<a name="l00077"></a>00077 
<a name="l00079"></a><a class="code" href="class_s_p_h_solver.html#a69a9cc39ecf773ca645afd281794cf9a">00079</a>     ngl::Real <a class="code" href="class_s_p_h_solver.html#a69a9cc39ecf773ca645afd281794cf9a" title="pre-calculated part of the pressure gradient kernel">m_weightPressureGradient</a>;
<a name="l00080"></a>00080 
<a name="l00082"></a><a class="code" href="class_s_p_h_solver.html#a7c059675a5ca3fec7f4bf7e59d19f5ab">00082</a>     ngl::Real <a class="code" href="class_s_p_h_solver.html#a7c059675a5ca3fec7f4bf7e59d19f5ab" title="pre-calculated part of the viscosity laplacian kernel">m_weightViscosityLaplacian</a>;
<a name="l00083"></a>00083 
<a name="l00085"></a><a class="code" href="class_s_p_h_solver.html#ad168b241193a5a34b33553cbd8a26c6f">00085</a>     <span class="keywordtype">int</span> <a class="code" href="class_s_p_h_solver.html#ad168b241193a5a34b33553cbd8a26c6f" title="iteration counter">m_iteration</a>;
<a name="l00086"></a>00086 
<a name="l00088"></a><a class="code" href="class_s_p_h_solver.html#a60c10a0a436f307626d3422fb05809ce">00088</a>     std::string <a class="code" href="class_s_p_h_solver.html#a60c10a0a436f307626d3422fb05809ce" title="shading type of fluid particles">m_visualizationType</a>;
<a name="l00089"></a>00089 
<a name="l00091"></a><a class="code" href="class_s_p_h_solver.html#a67a0ab46b9a3105400546a758ac6f2d1">00091</a>     <span class="keywordtype">bool</span> <a class="code" href="class_s_p_h_solver.html#a67a0ab46b9a3105400546a758ac6f2d1" title="flag to control to display fluid particles in OpenGL Window">m_drawFluidParticles</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <span class="keyword">private</span>:
<a name="l00098"></a>00098     ngl::Vector <a class="code" href="class_s_p_h_solver.html#af6b1adebbc96d3cb22f6990a05694f70" title="calculate Interface Tension Gradient Component">calculateInterfaceTensionGradientComponent</a>
<a name="l00099"></a>00099                                                 (
<a name="l00100"></a>00100                                                     ngl::Real _massPerDensity,
<a name="l00101"></a>00101                                                     ngl::Real _interfaceColourCoefficient,
<a name="l00102"></a>00102                                                     ngl::Vector _seperationVector
<a name="l00103"></a>00103                                                 );
<a name="l00104"></a>00104 
<a name="l00109"></a>00109     ngl::Real <a class="code" href="class_s_p_h_solver.html#ac1f193569656db4fe11aa5f716c5169b" title="calculate Interface Tension Laplacian Component">calculateInterfaceTensionLaplacianComponent</a>
<a name="l00110"></a>00110                                                 (
<a name="l00111"></a>00111                                                     ngl::Real _massPerDensity,
<a name="l00112"></a>00112                                                     ngl::Real _interfaceColourCoefficient,
<a name="l00113"></a>00113                                                     ngl::Real _seperationLength
<a name="l00114"></a>00114                                                 );
<a name="l00115"></a>00115 
<a name="l00123"></a>00123     ngl::Vector <a class="code" href="class_s_p_h_solver.html#ad137f4330190d8627fdb93ba373bb406" title="calculate Pressure Force Component">calculatePressureForceComponent</a>
<a name="l00124"></a>00124                                                 (   ngl::Real _fluidParticleScalerPressure,
<a name="l00125"></a>00125                                                     ngl::Real _fluidParticleDensity,
<a name="l00126"></a>00126                                                     ngl::Real _neighbourFluidParticleScalerPressure,
<a name="l00127"></a>00127                                                     ngl::Real _neighbourFluidDensity,
<a name="l00128"></a>00128                                                     ngl::Real _neighbourFluidParticleMass,
<a name="l00129"></a>00129                                                     ngl::Vector _seperationLength
<a name="l00130"></a>00130                                                 );
<a name="l00131"></a>00131 
<a name="l00137"></a>00137     ngl::Vector <a class="code" href="class_s_p_h_solver.html#a5913e7c1cd5a66c51eb03762025c0782" title="calculate Viscosity Force Component">calculateViscosityForceComponent</a>
<a name="l00138"></a>00138                                                 (
<a name="l00139"></a>00139                                                     ngl::Real _massPerDensity,
<a name="l00140"></a>00140                                                     ngl::Vector _fluidParticleCurrentVelocity,
<a name="l00141"></a>00141                                                     ngl::Vector _neighbourFluidParticleCurrentVelocity,
<a name="l00142"></a>00142                                                     ngl::Real _seperationLength
<a name="l00143"></a>00143                                                 );
<a name="l00144"></a>00144 
<a name="l00149"></a>00149     ngl::Vector <a class="code" href="class_s_p_h_solver.html#a5ff4d84f41872763f04dfac24bda7e5d" title="calculate Surface Tension Gradient Component">calculateSurfaceTennsionGradientComponent</a>
<a name="l00150"></a>00150                                                 (   ngl::Real _massPerDensity,
<a name="l00151"></a>00151                                                     ngl::Real _surfaceColourCoefficient,
<a name="l00152"></a>00152                                                     ngl::Vector _seperationVector
<a name="l00153"></a>00153                                                 );
<a name="l00154"></a>00154 
<a name="l00159"></a>00159     ngl::Real <a class="code" href="class_s_p_h_solver.html#abcc8f4b80a896833cdfb9f1ca71b28a2" title="calculate Surface Tension Laplacian Component">calculateSurfaceTensionLaplacianComponent</a>
<a name="l00160"></a>00160                                                 (   ngl::Real _massPerDensity,
<a name="l00161"></a>00161                                                     ngl::Real _surfaceColourCoefficient,
<a name="l00162"></a>00162                                                     ngl::Real _seperationLength
<a name="l00163"></a>00163                                                 );
<a name="l00164"></a>00164 
<a name="l00167"></a>00167     ngl::Real <a class="code" href="class_s_p_h_solver.html#a293590ab5fbacd0a13bbd36dc3971e8d" title="calculate the poly 6 kernel">KernelPoly</a>
<a name="l00168"></a>00168                         (
<a name="l00169"></a>00169                             <span class="keyword">const</span> ngl::Real _seperationLength
<a name="l00170"></a>00170                         );
<a name="l00171"></a>00171 
<a name="l00174"></a>00174     ngl::Vector <a class="code" href="class_s_p_h_solver.html#a2431a032b4972d7e684642e4d8c9e058" title="calculate the poly 6 gradient kernel">KernelPolyGradient</a>
<a name="l00175"></a>00175                                 (
<a name="l00176"></a>00176                                     <span class="keyword">const</span> ngl::Vector _seperationVector
<a name="l00177"></a>00177                                 );
<a name="l00178"></a>00178 
<a name="l00181"></a>00181     ngl::Real <a class="code" href="class_s_p_h_solver.html#ae0189c4c0301b0bb25d792b3b7ab08f5" title="calculate the poly 6 laplacian kernel">KernelPolyLaplacian</a>
<a name="l00182"></a>00182                                 (
<a name="l00183"></a>00183                                     <span class="keyword">const</span> ngl::Real _seperationLength
<a name="l00184"></a>00184                                 );
<a name="l00185"></a>00185 
<a name="l00188"></a>00188     ngl::Vector <a class="code" href="class_s_p_h_solver.html#a5086e88784204568d4cf4e227309025f" title="calculate the pressure (spiky) gradient kernel">KernelPressureGradient</a>
<a name="l00189"></a>00189                                     (
<a name="l00190"></a>00190                                         <span class="keyword">const</span> ngl::Vector _seperationVector
<a name="l00191"></a>00191                                     );
<a name="l00192"></a>00192 
<a name="l00195"></a>00195     ngl::Real <a class="code" href="class_s_p_h_solver.html#a3e4f7c09c45d3f49fa38f813d55e724b" title="calculate the viscosity laplacian kernel">KernelViscosityLaplacian</a>
<a name="l00196"></a>00196                                     (
<a name="l00197"></a>00197                                         <span class="keyword">const</span> ngl::Real _seperationLength
<a name="l00198"></a>00198                                     );
<a name="l00199"></a>00199 
<a name="l00202"></a>00202     ngl::Vector <a class="code" href="class_s_p_h_solver.html#a22ef88cb68a8f4befa6f281e10cf65a6" title="normalise a vector">normalizeVector</a>
<a name="l00203"></a>00203                             (
<a name="l00204"></a>00204                                 <span class="keyword">const</span> ngl::Vector _vector
<a name="l00205"></a>00205                             );
<a name="l00206"></a>00206 
<a name="l00209"></a>00209     <span class="keywordtype">int</span> <a class="code" href="class_s_p_h_solver.html#acfa822e4291299eb6e6875347515572c" title="get a particle fluid id from its name">getFluidIdFromName</a>
<a name="l00210"></a>00210                         (
<a name="l00211"></a>00211                             <span class="keyword">const</span> std::string _name
<a name="l00212"></a>00212                         );
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 };
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="preprocessor">#endif // SPHSOLVER_H</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Sun Dec 18 03:11:02 2011 for Smooth Particle Hydrodynamics Solver for Lagrangian Fluid Simulation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
